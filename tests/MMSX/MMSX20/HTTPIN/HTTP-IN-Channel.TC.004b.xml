<test>

		<function name="testName" module="Basic">
			<parameter>HTTP-IN-Channel.TC.004b</parameter>
		</function>
	
		<description>Proxy sends "New-Message-Intercepted" request to Application via HTTPS GET / No enabled Features for Sender and Recipient / Validate the existence and values of mandatory response headers 
		<!-- Test Description
		1. Sender and Recipient both are provisioned in application and no service is activated
		2. Send MM1 Message to MMS Proxy 
		3. MMS Proxy should intercept this message and send "New-Message-Intercepted" Request to Application as HTTPS GET Request 
		4. Application check whether Sender and Recipient are registered for the Application Features or not
		5.Validate in then response header the values of mandatory response headers like X-Proxy-Session-Id,X-Proxy-Transaction-Id,X-Proxy-Handle generated by the application -->  </description>
	
		<!-- Available MSISDN -->
		<configuration>../subscriber_config.xml</configuration>

	<!-- Delete Message Store -->
	<subtest>../deleteMessageStoreAll.xml</subtest>

		<!-- Set mandatory headers -->
		<function name="setHeader" module="HTTP">
			<parameter>X-Proxy-MMS-Message-Type</parameter>
			<parameter>m-send-req</parameter>
		</function>

		<function name="setHeader" module="HTTP">
			<parameter>X-Proxy-Region</parameter>
			<parameter>Siberia</parameter>
		</function>

		<function name="setHeader" module="HTTP">
			<parameter>X-Proxy-Session-Id</parameter>
			<parameter>987654</parameter>
		</function>

		<function name="setHeader" module="HTTP">
			<parameter>To</parameter>
			<configuration>MMSX/NOSERVICE/SUBSCRIBER/MSISDN1</configuration>
		</function>

		<function name="setHeader" module="HTTP">
			<parameter>X-Proxy-Subscriber-MSISDN</parameter>
			<configuration>MMSX/NOSERVICE/SUBSCRIBER/MSISDN2</configuration>
		</function>

		<function name="setHeader" module="HTTP">
			<parameter>Subject</parameter>
			<parameter>Validate headers</parameter>
		</function>

		<!-- Send Metadeta  Request -->
		<function name="sendGetRequest" module="HTTP">
			<parameter>
				<parameter>https://</parameter>
				<configuration>MMS_Extra/Ip</configuration>
				<parameter>:</parameter>
				<configuration>MMS_Extra/SECUREPORT</configuration>
				<parameter>/New-Message-Intercepted</parameter>
			</parameter>
		</function>

		<function name="checkResponseCode" module="HTTP">
			<parameter>200</parameter>
		</function>

		<!-- Validating the response of X-Proxy-Handle. It should return pass -->
		<function name="checkHeader" module="HTTP">
			<parameter>X-Proxy-Handle</parameter>
			<parameter>pass</parameter>
		</function>

		<function name="checkHeader" module="HTTP">
			<parameter>X-Proxy-Session-Id</parameter>
			<parameter>987654</parameter>
		</function>

		<function name="checkHeader" module="HTTP">
			<parameter>To</parameter>
			<configuration>MMSX/NOSERVICE/SUBSCRIBER/MSISDN1</configuration>
		</function>


</test>